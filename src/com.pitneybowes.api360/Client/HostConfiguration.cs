/*
 * Shipping APIs
 *
 * ### Introduction  The Shipping APIs include a variety of operations that allow users to manage and track their shipping requests.   Some of the key API operations available in the Shipping API includes: ### Shipment API  | Operation      | Description | | - -- -- -- -- -- | - -- -- -- -- -- |  | Get Carriers    | The operation fetches all onboarded carriers. Typically, user will use this service to get list of onboarded carriers and supported properties for those carriers. |  | Get Countries | The operation fetches list of supported destination countries for a provided carrier and origin country. |  | Get Services | The operation fetches a list of supported services for a carrier with respect to specific origin and destination country. |  | Get ParcelTypes| The operation fetches ParcelTypes based on carrier, origin, and destination country. |  | Get Special Services| The operation fetches Special Services for a given carrier, service, origin, and destination country. |  | Get Carrier Accounts| The operation retrieves onboarded Carriers with their Carrier Account Ids which uniquely identify multiple accounts of same carrier. |  | Rate Shop and Get Single Rate| This API contains 2 operations, rate shop and single rate. Rate shop will fetch rates for all carrier services based on the given addresses (From and To), weight, and dimension for given parcelType. Single rate will get rate for specific service and special service (if requested) based on the given addresses (From and To), weight, and dimension, parcelType and serviceId with or without specialServices. Single rate will be used to rate a shipment before creating it. |  | Create Shipment| The operation creates a new Shipment or Shipment Label. This is for both Domestic and International. | | Get All Shipments| The operation fetches all created Shipments. |  | Get Shipment by Id| Retrieves single shipment using Shipment Id. |  | Reprint Shipment| The operation reprints Shipment by the shipmentId. It retrieves an existing shipping label to reprint. The API sends the shipmentId returned by the original Created Shipment request. Use this only if the shipping label in the ‘Create Shipment’ response is missing or lost. |  | Cancel Shipment| The operation cancels previously created shipment. |  
 *
 * The version of the OpenAPI document: 1.0.0
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

using System;
using System.Collections.Generic;
using System.Linq;
using System.Text.Json;
using System.Text.Json.Serialization;
using System.Net.Http;
using Microsoft.Extensions.DependencyInjection;
using com.pitneybowes.api360.Api;
using com.pitneybowes.api360.Model;

namespace com.pitneybowes.api360.Client
{
    /// <summary>
    /// Provides hosting configuration for com.pitneybowes.api360
    /// </summary>
    public class HostConfiguration
    {
        private readonly IServiceCollection _services;
        private readonly JsonSerializerOptions _jsonOptions = new JsonSerializerOptions();

        internal bool HttpClientsAdded { get; private set; }

        /// <summary>
        /// Instantiates the class 
        /// </summary>
        /// <param name="services"></param>
        public HostConfiguration(IServiceCollection services)
        {
            _services = services;
            _jsonOptions.Converters.Add(new JsonStringEnumConverter());
            _jsonOptions.Converters.Add(new DateTimeJsonConverter());
            _jsonOptions.Converters.Add(new DateTimeNullableJsonConverter());
            _jsonOptions.Converters.Add(new AdditionalAddressesInnerJsonConverter());
            _jsonOptions.Converters.Add(new AdditionalAddressesInnerAddressJsonConverter());
            _jsonOptions.Converters.Add(new AllDefaultsJsonConverter());
            _jsonOptions.Converters.Add(new AllDefaultsDataInnerJsonConverter());
            _jsonOptions.Converters.Add(new BPODDownloadRequestJsonConverter());
            _jsonOptions.Converters.Add(new BPODDownloadResponseJsonConverter());
            _jsonOptions.Converters.Add(new ByCarrierV2JsonConverter());
            _jsonOptions.Converters.Add(new CancelShipmentJsonConverter());
            _jsonOptions.Converters.Add(new CancelShipmentV2JsonConverter());
            _jsonOptions.Converters.Add(new CancelStampsRequestERRJsonConverter());
            _jsonOptions.Converters.Add(new CancelStampsResponseERRJsonConverter());
            _jsonOptions.Converters.Add(new CarrierPaymentsInnerJsonConverter());
            _jsonOptions.Converters.Add(new CarriersJsonConverter());
            _jsonOptions.Converters.Add(new CarriersCarriersInnerJsonConverter());
            _jsonOptions.Converters.Add(new CarriersCarriersInnerPropertiesJsonConverter());
            _jsonOptions.Converters.Add(new CountriesJsonConverter());
            _jsonOptions.Converters.Add(new CountriesCountriesInnerJsonConverter());
            _jsonOptions.Converters.Add(new CreateDefaultsJsonConverter());
            _jsonOptions.Converters.Add(new CreateDefaultsResponseJsonConverter());
            _jsonOptions.Converters.Add(new CreateShipmentV2200ResponseJsonConverter());
            _jsonOptions.Converters.Add(new CreateShipmentV2RequestJsonConverter());
            _jsonOptions.Converters.Add(new CustomsJsonConverter());
            _jsonOptions.Converters.Add(new CustomsInfoJsonConverter());
            _jsonOptions.Converters.Add(new CustomsItemJsonConverter());
            _jsonOptions.Converters.Add(new DHLExpressCarrierPaymentJsonConverter());
            _jsonOptions.Converters.Add(new DefaultResponseJsonConverter());
            _jsonOptions.Converters.Add(new DocTabItemJsonConverter());
            _jsonOptions.Converters.Add(new DomesticShipmentResponseJsonConverter());
            _jsonOptions.Converters.Add(new DomesticShipmentResponseFromAddressJsonConverter());
            _jsonOptions.Converters.Add(new DomesticShipmentResponseLabelLayoutInnerJsonConverter());
            _jsonOptions.Converters.Add(new DomesticShipmentResponseRateJsonConverter());
            _jsonOptions.Converters.Add(new DomesticShipmentResponseRateSpecialServicesInnerJsonConverter());
            _jsonOptions.Converters.Add(new DomesticShipmentResponseRateSpecialServicesInnerInputParametersInnerJsonConverter());
            _jsonOptions.Converters.Add(new DomesticShipmentResponseToAddressJsonConverter());
            _jsonOptions.Converters.Add(new DomesticShipmentResponseV2JsonConverter());
            _jsonOptions.Converters.Add(new DomesticShipmentResponseV2LabelLayoutInnerJsonConverter());
            _jsonOptions.Converters.Add(new DomesticShipmentResponseV2PrintErrorJsonConverter());
            _jsonOptions.Converters.Add(new DomesticShipmentResponseV2RateJsonConverter());
            _jsonOptions.Converters.Add(new ErrCoversheetRequestJsonConverter());
            _jsonOptions.Converters.Add(new ErrCoversheetRequestFromAddressJsonConverter());
            _jsonOptions.Converters.Add(new ErrCoversheetRequestParcelJsonConverter());
            _jsonOptions.Converters.Add(new ErrCoversheetRequestShipmentOptionsJsonConverter());
            _jsonOptions.Converters.Add(new ErrCoversheetRequestShippingReferencesJsonConverter());
            _jsonOptions.Converters.Add(new ErrCoversheetRequestSpecialServicesInnerJsonConverter());
            _jsonOptions.Converters.Add(new ErrCoversheetRequestToAddressJsonConverter());
            _jsonOptions.Converters.Add(new ErrCoversheetResponseJsonConverter());
            _jsonOptions.Converters.Add(new ErrCoversheetResponseFromAddressJsonConverter());
            _jsonOptions.Converters.Add(new ErrCoversheetResponseLabelLayoutInnerJsonConverter());
            _jsonOptions.Converters.Add(new ErrCoversheetResponseRateJsonConverter());
            _jsonOptions.Converters.Add(new ErrCoversheetResponseShipmentOptionsJsonConverter());
            _jsonOptions.Converters.Add(new ErrCoversheetResponseToAddressJsonConverter());
            _jsonOptions.Converters.Add(new FedExCarrierPaymentJsonConverter());
            _jsonOptions.Converters.Add(new FromAddressV2JsonConverter());
            _jsonOptions.Converters.Add(new FromAddressV2ResponseJsonConverter());
            _jsonOptions.Converters.Add(new FromAddressV2internationalResponseJsonConverter());
            _jsonOptions.Converters.Add(new GetAllPickupsJsonConverter());
            _jsonOptions.Converters.Add(new GetAllPickupsDataJsonConverter());
            _jsonOptions.Converters.Add(new GetAllPickupsDataPickupAddressJsonConverter());
            _jsonOptions.Converters.Add(new GetAllPickupsDataPickupOptionsJsonConverter());
            _jsonOptions.Converters.Add(new GetAllPickupsDataPickupSummaryInnerJsonConverter());
            _jsonOptions.Converters.Add(new GetAllPickupsPageInfoJsonConverter());
            _jsonOptions.Converters.Add(new GetAllShipmentsJsonConverter());
            _jsonOptions.Converters.Add(new GetAllShipmentsDataInnerJsonConverter());
            _jsonOptions.Converters.Add(new GetAllShipmentsDataInnerFromAddressJsonConverter());
            _jsonOptions.Converters.Add(new GetAllShipmentsDataInnerMetadataInnerJsonConverter());
            _jsonOptions.Converters.Add(new GetAllShipmentsDataInnerParcelJsonConverter());
            _jsonOptions.Converters.Add(new GetAllShipmentsDataInnerRateJsonConverter());
            _jsonOptions.Converters.Add(new GetAllShipmentsDataInnerRateSpecialServicesInnerJsonConverter());
            _jsonOptions.Converters.Add(new GetAllShipmentsDataInnerRateSpecialServicesInnerInputParametersInnerJsonConverter());
            _jsonOptions.Converters.Add(new GetAllShipmentsDataInnerShipmentOptionsJsonConverter());
            _jsonOptions.Converters.Add(new GetAllShipmentsDataInnerToAddressJsonConverter());
            _jsonOptions.Converters.Add(new GetAllShipmentsPageInfoJsonConverter());
            _jsonOptions.Converters.Add(new GetCarrierAccount200ResponseJsonConverter());
            _jsonOptions.Converters.Add(new GetCarrierAccount200ResponseCarrierAccountsInnerJsonConverter());
            _jsonOptions.Converters.Add(new GetDefaultsByIdJsonConverter());
            _jsonOptions.Converters.Add(new GetPickupCancelledDocumentRequestJsonConverter());
            _jsonOptions.Converters.Add(new GetPickupCancelledDocumentResponseJsonConverter());
            _jsonOptions.Converters.Add(new GetPickupDocumentJsonConverter());
            _jsonOptions.Converters.Add(new GetSingleShipmentJsonConverter());
            _jsonOptions.Converters.Add(new GetSingleShipmentFromAddressJsonConverter());
            _jsonOptions.Converters.Add(new GetSingleShipmentRateJsonConverter());
            _jsonOptions.Converters.Add(new GetSingleShipmentRateSpecialServicesInnerJsonConverter());
            _jsonOptions.Converters.Add(new GetSingleShipmentRateSpecialServicesInnerInputParametersInnerJsonConverter());
            _jsonOptions.Converters.Add(new GetSingleShipmentShipmentOptionsJsonConverter());
            _jsonOptions.Converters.Add(new GetSingleShipmentToAddressJsonConverter());
            _jsonOptions.Converters.Add(new IMbLabelSampleRequestJsonConverter());
            _jsonOptions.Converters.Add(new IMbLabelSampleRequestParcelJsonConverter());
            _jsonOptions.Converters.Add(new InternationalShipmentResponseJsonConverter());
            _jsonOptions.Converters.Add(new InternationalShipmentResponseAltReturnAddressJsonConverter());
            _jsonOptions.Converters.Add(new InternationalShipmentResponseCustomsJsonConverter());
            _jsonOptions.Converters.Add(new InternationalShipmentResponseCustomsCustomsInfoJsonConverter());
            _jsonOptions.Converters.Add(new InternationalShipmentResponseCustomsCustomsItemsInnerJsonConverter());
            _jsonOptions.Converters.Add(new InternationalShipmentResponseFromAddressJsonConverter());
            _jsonOptions.Converters.Add(new InternationalShipmentResponseRateJsonConverter());
            _jsonOptions.Converters.Add(new InternationalShipmentResponseRateDeliveryCommitmentJsonConverter());
            _jsonOptions.Converters.Add(new InternationalShipmentResponseRateSpecialServicesInnerJsonConverter());
            _jsonOptions.Converters.Add(new InternationalShipmentResponseRateSpecialServicesInnerInputParametersInnerJsonConverter());
            _jsonOptions.Converters.Add(new InternationalShipmentResponseV2JsonConverter());
            _jsonOptions.Converters.Add(new InternationalShipmentResponseV2LabelLayoutInnerJsonConverter());
            _jsonOptions.Converters.Add(new InternationalShipmentResponseV2ParcelJsonConverter());
            _jsonOptions.Converters.Add(new InternationalShipmentResponseV2PrintJsonConverter());
            _jsonOptions.Converters.Add(new InternationalShipmentResponseV2PrintErrorJsonConverter());
            _jsonOptions.Converters.Add(new InternationalShipmentResponseV2RateJsonConverter());
            _jsonOptions.Converters.Add(new InternationalShipmentResponseV2RateDeliveryCommitmentJsonConverter());
            _jsonOptions.Converters.Add(new InternationalShipmentResponseV2ReferencesJsonConverter());
            _jsonOptions.Converters.Add(new InternationalShipmentResponseV2ShipmentOptionsJsonConverter());
            _jsonOptions.Converters.Add(new InvalidErrorsInnerJsonConverter());
            _jsonOptions.Converters.Add(new JobStatusJsonConverter());
            _jsonOptions.Converters.Add(new JobStatusPrintStatusTransactionInnerJsonConverter());
            _jsonOptions.Converters.Add(new MilitaryMailAddressJsonConverter());
            _jsonOptions.Converters.Add(new MilitaryMailShipmentResponseV2JsonConverter());
            _jsonOptions.Converters.Add(new MilitaryMailShipmentResponseV2AllOfCustomsJsonConverter());
            _jsonOptions.Converters.Add(new MilitaryMailShipmentResponseV2AllOfCustomsCustomsInfoJsonConverter());
            _jsonOptions.Converters.Add(new MilitaryMailShipmentResponseV2AllOfCustomsCustomsItemsJsonConverter());
            _jsonOptions.Converters.Add(new MilitaryMailShipmentsJsonConverter());
            _jsonOptions.Converters.Add(new MilitaryMailShipmentsCustomsJsonConverter());
            _jsonOptions.Converters.Add(new MilitaryMailShipmentsCustomsCustomsInfoJsonConverter());
            _jsonOptions.Converters.Add(new MilitaryMailShipmentsCustomsCustomsItemsInnerJsonConverter());
            _jsonOptions.Converters.Add(new MilitaryMailShipmentsFromAddressJsonConverter());
            _jsonOptions.Converters.Add(new MilitaryMailShipmentsParcelJsonConverter());
            _jsonOptions.Converters.Add(new MilitaryMailShipmentsRequestV2JsonConverter());
            _jsonOptions.Converters.Add(new MilitaryMailShipmentsRequestV2AltReturnAddressJsonConverter());
            _jsonOptions.Converters.Add(new MilitaryMailShipmentsRequestV2DeliveryConfirmationJsonConverter());
            _jsonOptions.Converters.Add(new MilitaryMailShipmentsRequestV2DeliveryOptionJsonConverter());
            _jsonOptions.Converters.Add(new MilitaryMailShipmentsRequestV2HandlingJsonConverter());
            _jsonOptions.Converters.Add(new MilitaryMailShipmentsRequestV2InsuranceJsonConverter());
            _jsonOptions.Converters.Add(new MilitaryMailShipmentsRequestV2MetadataInnerJsonConverter());
            _jsonOptions.Converters.Add(new MilitaryMailShipmentsRequestV2ReturnOptionsJsonConverter());
            _jsonOptions.Converters.Add(new MilitaryMailShipmentsRequestV2ReturnOptionsInputParametersInnerJsonConverter());
            _jsonOptions.Converters.Add(new MilitaryMailShipmentsRequestV2ShipmentOptionsJsonConverter());
            _jsonOptions.Converters.Add(new MilitaryMailShipmentsResponseJsonConverter());
            _jsonOptions.Converters.Add(new MilitaryMailShipmentsResponseFromAddressJsonConverter());
            _jsonOptions.Converters.Add(new MilitaryMailShipmentsResponseRateJsonConverter());
            _jsonOptions.Converters.Add(new MilitaryMailShipmentsResponseToAddressJsonConverter());
            _jsonOptions.Converters.Add(new MilitaryMailShipmentsToAddressJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRateShopRequestJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRateShopRequestFromAddressJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRateShopRequestMultiPieceParcelsInnerJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRateShopRequestMultiPieceParcelsInnerParcelJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRateShopRequestToAddressJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRateShopResponseJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRateShopResponseFromAddressJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRateShopResponseRatesInnerJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRateShopResponseRatesInnerDeliveryCommitmentJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRateShopResponseRatesInnerMultiPieceParcelsInnerJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRateShopResponseRatesInnerMultiPieceParcelsInnerParcelJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRateShopResponseRatesInnerMultiPieceParcelsInnerParcelRateJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRateShopResponseRatesInnerSurchargesInnerJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRateShopResponseToAddressJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRates200ResponseJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRatesRequestJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRatesRequestFromAddressJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRatesRequestMultiPieceParcelsInnerJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRatesRequestMultiPieceParcelsInnerParcelJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRatesRequestToAddressJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRatesResponseJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRatesResponseFromAddressJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRatesResponseRatesInnerJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRatesResponseRatesInnerMultiPieceParcelsInnerJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRatesResponseRatesInnerMultiPieceParcelsInnerParcelJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRatesResponseRatesInnerMultiPieceParcelsInnerParcelRateJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRatesResponseRatesInnerMultiPieceParcelsInnerParcelRateDeliveryCommitmentJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRatesResponseRatesInnerMultiPieceParcelsInnerParcelRateSurchargesInnerJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRatesResponseRatesInnerSurchargesInnerJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceRatesResponseToAddressJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipment200ResponseJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentInternationalRequestJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentInternationalRequestCustomsJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentInternationalRequestCustomsCustomsInfoJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentInternationalRequestCustomsCustomsItemsInnerJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentInternationalRequestFromAddressJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentInternationalRequestMultiPieceParcelsInnerJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentInternationalRequestShipmentOptionsJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentInternationalRequestToAddressJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentInternationalResponseJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentInternationalResponseCustomsJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentInternationalResponseCustomsCustomsInfoJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentInternationalResponseCustomsCustomsItemsInnerJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentInternationalResponseFromAddressJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentInternationalResponseMultiPieceRatesInnerJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentInternationalResponseMultiPieceRatesInnerDeliveryCommitmentJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentInternationalResponseToAddressJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentRequestJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentRequestAltReturnAddressJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentRequestFromAddressJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentRequestMetadataInnerJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentRequestMultiPieceParcelsInnerJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentRequestMultiPieceParcelsInnerParcelJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentRequestMultiPieceParcelsInnerParcelShipmentOptionsJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentRequestShipmentOptionsJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentRequestToAddressJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentResponseJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentResponseLabelLayoutInnerJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentResponseMultiPieceRatesInnerJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentResponseMultiPieceRatesInnerDeliveryCommitmentJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentResponseMultiPieceRatesInnerMultiPieceParcelsInnerJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentResponseMultiPieceRatesInnerMultiPieceParcelsInnerParcelJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentResponseMultiPieceRatesInnerMultiPieceParcelsInnerParcelRateJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentResponseMultiPieceRatesInnerMultiPieceParcelsInnerParcelRateSurchargesInnerJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentResponseMultiPieceRatesInnerMultiPieceParcelsInnerParcelShipmentOptionsJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentResponseMultiPieceRatesInnerSurchargesInnerJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentResponseShipmentOptionsJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentResponseToAddressJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentSplitParcelLabelResponseJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentSplitParcelLabelResponseFromAddressJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentSplitParcelLabelResponseMultiPieceRatesInnerJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentSplitParcelLabelResponseMultiPieceRatesInnerMultiPieceParcelsInnerJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentSplitParcelLabelResponseMultiPieceRatesInnerMultiPieceParcelsInnerDocumentJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentSplitParcelLabelResponseMultiPieceRatesInnerMultiPieceParcelsInnerParcelShipmentOptionsJsonConverter());
            _jsonOptions.Converters.Add(new MultipieceShipmentSplitParcelLabelResponseShipmentOptionsJsonConverter());
            _jsonOptions.Converters.Add(new NotFoundErrorsInnerJsonConverter());
            _jsonOptions.Converters.Add(new ParameterJsonConverter());
            _jsonOptions.Converters.Add(new ParcelTypesJsonConverter());
            _jsonOptions.Converters.Add(new ParcelTypesParcelsInnerJsonConverter());
            _jsonOptions.Converters.Add(new ParcelTypesParcelsInnerBrandedDimensionsJsonConverter());
            _jsonOptions.Converters.Add(new ParcelTypesParcelsInnerDimensionRulesInnerJsonConverter());
            _jsonOptions.Converters.Add(new ParcelTypesParcelsInnerDimensionRulesInnerMaxParcelDimensionsJsonConverter());
            _jsonOptions.Converters.Add(new ParcelTypesParcelsInnerDimensionRulesInnerMinParcelDimensionsJsonConverter());
            _jsonOptions.Converters.Add(new ParcelTypesParcelsInnerWeightRulesInnerJsonConverter());
            _jsonOptions.Converters.Add(new ParcelV2JsonConverter());
            _jsonOptions.Converters.Add(new ParcelV2ResponseJsonConverter());
            _jsonOptions.Converters.Add(new PrintDocumentRequestJsonConverter());
            _jsonOptions.Converters.Add(new PrintDocumentRequestReferenceJsonConverter());
            _jsonOptions.Converters.Add(new PrintDocumentResponseJsonConverter());
            _jsonOptions.Converters.Add(new PrinterMappingGetResponseJsonConverter());
            _jsonOptions.Converters.Add(new PrinterMappingRequestJsonConverter());
            _jsonOptions.Converters.Add(new PrinterMappingResponseJsonConverter());
            _jsonOptions.Converters.Add(new RateResponseV2JsonConverter());
            _jsonOptions.Converters.Add(new RateResponseV2DeliveryCommitmentJsonConverter());
            _jsonOptions.Converters.Add(new RateResponseV2SurchargesInnerJsonConverter());
            _jsonOptions.Converters.Add(new RateShipment200ResponseJsonConverter());
            _jsonOptions.Converters.Add(new RateShipment200ResponseParcelJsonConverter());
            _jsonOptions.Converters.Add(new RateShipment200ResponseRateInnerJsonConverter());
            _jsonOptions.Converters.Add(new RateShipment200ResponseRateInnerBaseChargeTaxesInnerJsonConverter());
            _jsonOptions.Converters.Add(new RateShipment200ResponseRateInnerDeliveryCommitmentJsonConverter());
            _jsonOptions.Converters.Add(new RateShipment200ResponseRateInnerSurchargesInnerJsonConverter());
            _jsonOptions.Converters.Add(new RateShipmentRequestJsonConverter());
            _jsonOptions.Converters.Add(new RateShopJsonConverter());
            _jsonOptions.Converters.Add(new RateShopFromAddressJsonConverter());
            _jsonOptions.Converters.Add(new RateShopParcelJsonConverter());
            _jsonOptions.Converters.Add(new RateShopResponseJsonConverter());
            _jsonOptions.Converters.Add(new RateShopResponseErrorsInnerJsonConverter());
            _jsonOptions.Converters.Add(new RateShopResponseFromAddressJsonConverter());
            _jsonOptions.Converters.Add(new RateShopResponseParcelJsonConverter());
            _jsonOptions.Converters.Add(new RateShopResponseRatesInnerJsonConverter());
            _jsonOptions.Converters.Add(new RateShopResponseRatesInnerDeliveryCommitmentJsonConverter());
            _jsonOptions.Converters.Add(new RateShopResponseToAddressJsonConverter());
            _jsonOptions.Converters.Add(new RateShopToAddressJsonConverter());
            _jsonOptions.Converters.Add(new RateShopbyCarrierJsonConverter());
            _jsonOptions.Converters.Add(new RateShopbyCarrierByCarrierJsonConverter());
            _jsonOptions.Converters.Add(new RateShopbyCarrierParcelJsonConverter());
            _jsonOptions.Converters.Add(new RateShopbyRategroupJsonConverter());
            _jsonOptions.Converters.Add(new RateShopbyRulesetJsonConverter());
            _jsonOptions.Converters.Add(new RateShopbyRulesetByRuleSetJsonConverter());
            _jsonOptions.Converters.Add(new ReferenceV2JsonConverter());
            _jsonOptions.Converters.Add(new ReprintMultipieceShipmentResponseJsonConverter());
            _jsonOptions.Converters.Add(new ReprintMultipieceShipmentResponseFromAddressJsonConverter());
            _jsonOptions.Converters.Add(new ReprintMultipieceShipmentResponseMultiPieceRatesInnerJsonConverter());
            _jsonOptions.Converters.Add(new ReprintMultipieceShipmentResponseMultiPieceRatesInnerMultiPieceParcelsInnerJsonConverter());
            _jsonOptions.Converters.Add(new ReprintMultipieceShipmentResponseShipmentOptionsJsonConverter());
            _jsonOptions.Converters.Add(new ReprintMultipieceShipmentResponseToAddressJsonConverter());
            _jsonOptions.Converters.Add(new ReprintShipmentJsonConverter());
            _jsonOptions.Converters.Add(new ReprintShipmentFromAddressJsonConverter());
            _jsonOptions.Converters.Add(new ReprintShipmentParcelJsonConverter());
            _jsonOptions.Converters.Add(new ReprintShipmentRateJsonConverter());
            _jsonOptions.Converters.Add(new ReprintShipmentRateSpecialServicesInnerJsonConverter());
            _jsonOptions.Converters.Add(new ReprintShipmentShipmentOptionsJsonConverter());
            _jsonOptions.Converters.Add(new ReprintShipmentToAddressJsonConverter());
            _jsonOptions.Converters.Add(new ReprintShipmentV2JsonConverter());
            _jsonOptions.Converters.Add(new ReprintShipmentV2LabelLayoutInnerJsonConverter());
            _jsonOptions.Converters.Add(new ReprintShipmentV2ReferencesJsonConverter());
            _jsonOptions.Converters.Add(new ReturnLabelJsonConverter());
            _jsonOptions.Converters.Add(new ReturnLabelFromAddressJsonConverter());
            _jsonOptions.Converters.Add(new ReturnLabelParcelJsonConverter());
            _jsonOptions.Converters.Add(new ReturnLabelResponseJsonConverter());
            _jsonOptions.Converters.Add(new ReturnLabelResponseLabelLayoutInnerJsonConverter());
            _jsonOptions.Converters.Add(new ReturnLabelResponseRateJsonConverter());
            _jsonOptions.Converters.Add(new ReturnLabelResponseRateSpecialServicesInnerJsonConverter());
            _jsonOptions.Converters.Add(new ReturnLabelResponseRateSpecialServicesInnerInputParametersInnerJsonConverter());
            _jsonOptions.Converters.Add(new ReturnLabelResponseRateSurchargesInnerJsonConverter());
            _jsonOptions.Converters.Add(new ReturnLabelResponseToAddressJsonConverter());
            _jsonOptions.Converters.Add(new ReturnLabelSpecialServiceJsonConverter());
            _jsonOptions.Converters.Add(new ReturnLabelSpecialServicesInnerJsonConverter());
            _jsonOptions.Converters.Add(new ReturnLabelSpecialServicesInnerInputParametersInnerJsonConverter());
            _jsonOptions.Converters.Add(new ReturnLabelToAddressJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickup200ResponseJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupCancelRequestJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupCancelRequestOptionsInnerJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupCancelResponseJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupCancelResponsePickupsJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupCancelResponsePickupsUPS10191697701340901JsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupDHLEXPRequestJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupDHLEXPRequestPickupAddressJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupDHLEXPRequestPickupOptionsJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupDHLEXPRequestPickupSummaryInnerJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupDHLEXPRequestPickupSummaryInnerPackageDetailsInnerJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupDHLEXPResponseJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupDHLEXPResponsePickupAddressJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupDHLEXPResponsePickupOptionsJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupDHLEXPResponsePickupSummaryInnerJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupFedexRequestJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupFedexRequestPickupOptionsInnerJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupFedexRequestPickupSummaryInnerJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupFedexResponseJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupFedexResponsePickupSummaryInnerJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupRequestJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupUPSRequestJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupUPSRequestPickupSummaryInnerJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupUPSResponseJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupUPSResponsePickupSummaryInnerJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupUSPSRequestJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupUSPSRequestPickupAddressJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupUSPSRequestPickupSummaryInnerJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupUSPSResponseJsonConverter());
            _jsonOptions.Converters.Add(new SchedulePickupUSPSResponsePickupSummaryInnerJsonConverter());
            _jsonOptions.Converters.Add(new SendingOptionsJsonConverter());
            _jsonOptions.Converters.Add(new SendingOptionsCarrierAccountsJsonConverter());
            _jsonOptions.Converters.Add(new SendingOptionsResponseJsonConverter());
            _jsonOptions.Converters.Add(new SendingOptionsResponseCarrierAccountsJsonConverter());
            _jsonOptions.Converters.Add(new ServerErrorJsonConverter());
            _jsonOptions.Converters.Add(new ServicesJsonConverter());
            _jsonOptions.Converters.Add(new ServicesServicesInnerJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentCancelV2JsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticAltReturnAddressJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticByCarrierJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticByCarrierAltReturnAddressJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticByCarrierCustomsJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticByCarrierCustomsCustomsInfoJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticByCarrierCustomsCustomsItemsInnerJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticByCarrierDeliveryConfirmationJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticByCarrierDocTabJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticByCarrierHandlingJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticByCarrierInsuranceJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticByCarrierReturnOptionsJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticByCarrierShipmentOptionsJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticByRateGroupJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticByRateGroupByRateGroupJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticByRateGroupDeliveryOptionJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticByRateGroupMetadataInnerJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticByRateGroupShipmentOptionsJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticByRulesetJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticByRulesetAltReturnAddressJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticByRulesetByRuleSetJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticByRulesetDeliveryOptionJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticByRulesetMetadataInnerJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticByRulesetShipmentOptionsJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticCustomsJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticCustomsCustomsInfoJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticCustomsCustomsItemsInnerJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticDocTabJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticFromAddressJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticMetadataInnerJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticParcelJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticShipmentOptionsJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentDomesticToAddressJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentInternationalJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentInternationalAltReturnAddressJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentInternationalByCarrierJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentInternationalByCarrierCustomsJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentInternationalByCarrierDeliveryOptionJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentInternationalByCarrierFromAddressJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentInternationalByCarrierShipmentOptionsJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentInternationalByCarrierToAddressJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentInternationalCustomsJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentInternationalCustomsCustomsDocumentsInnerJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentInternationalCustomsCustomsInfoJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentInternationalCustomsCustomsItemsInnerJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentInternationalFromAddressJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentInternationalToAddressJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentOptionsJsonConverter());
            _jsonOptions.Converters.Add(new ShipmentReprintV2JsonConverter());
            _jsonOptions.Converters.Add(new ShipmentReprintV2ReferencesJsonConverter());
            _jsonOptions.Converters.Add(new SignatureFileResponseJsonConverter());
            _jsonOptions.Converters.Add(new SingleRateJsonConverter());
            _jsonOptions.Converters.Add(new SingleRateFromAddressJsonConverter());
            _jsonOptions.Converters.Add(new SingleRateParcelJsonConverter());
            _jsonOptions.Converters.Add(new SingleRateResponseJsonConverter());
            _jsonOptions.Converters.Add(new SingleRateResponseFromAddressJsonConverter());
            _jsonOptions.Converters.Add(new SingleRateResponseParcelJsonConverter());
            _jsonOptions.Converters.Add(new SingleRateResponseRatesInnerJsonConverter());
            _jsonOptions.Converters.Add(new SingleRateResponseRatesInnerSpecialServicesInnerJsonConverter());
            _jsonOptions.Converters.Add(new SingleRateResponseShipmentOptionsJsonConverter());
            _jsonOptions.Converters.Add(new SingleRateResponseToAddressJsonConverter());
            _jsonOptions.Converters.Add(new SingleRateToAddressJsonConverter());
            _jsonOptions.Converters.Add(new SoldToAddressJsonConverter());
            _jsonOptions.Converters.Add(new SoldToAddressV2JsonConverter());
            _jsonOptions.Converters.Add(new SpecialServiceJsonConverter());
            _jsonOptions.Converters.Add(new SpecialServicesJsonConverter());
            _jsonOptions.Converters.Add(new SpecialServicesServicesInnerJsonConverter());
            _jsonOptions.Converters.Add(new SpecialServicesServicesInnerParcelTypeRulesInnerJsonConverter());
            _jsonOptions.Converters.Add(new SpecialServicesServicesInnerParcelTypeRulesInnerSpecialServiceRulesInnerJsonConverter());
            _jsonOptions.Converters.Add(new SpecialServicesServicesInnerParcelTypeRulesInnerSpecialServiceRulesInnerInputParameterRulesInnerJsonConverter());
            _jsonOptions.Converters.Add(new SpecialServicesServicesInnerParcelTypeRulesInnerSpecialServiceRulesInnerPrerequisiteRulesInnerJsonConverter());
            _jsonOptions.Converters.Add(new ToAddressV2JsonConverter());
            _jsonOptions.Converters.Add(new ToAddressV2ResponseJsonConverter());
            _jsonOptions.Converters.Add(new ToAddressV2internationalResponseJsonConverter());
            _jsonOptions.Converters.Add(new UPSCarrierPaymentJsonConverter());
            _jsonOptions.Converters.Add(new UnauthorizedErrorJsonConverter());
            _jsonOptions.Converters.Add(new UploadETD200ResponseJsonConverter());
            _jsonOptions.Converters.Add(new UploadETDRequestJsonConverter());
            JsonSerializerOptionsProvider jsonSerializerOptionsProvider = new JsonSerializerOptionsProvider(_jsonOptions);
            _services.AddSingleton(jsonSerializerOptionsProvider);
            _services.AddSingleton<IApiFactory, ApiFactory>();
            _services.AddSingleton<DefaultsApiEvents>();
            _services.AddSingleton<ElectronicTradeDocumentApiEvents>();
            _services.AddSingleton<MultipieceShipmentApiEvents>();
            _services.AddSingleton<PickupsApiEvents>();
            _services.AddSingleton<PrintApiEvents>();
            _services.AddSingleton<ShipmentApiEvents>();
        }

        /// <summary>
        /// Configures the HttpClients.
        /// </summary>
        /// <param name="client"></param>
        /// <param name="builder"></param>
        /// <returns></returns>
        public HostConfiguration AddApiHttpClients
        (
            Action<HttpClient> client = null, Action<IHttpClientBuilder> builder = null)
        {
            if (client == null)
                client = c => c.BaseAddress = new Uri(ClientUtils.BASE_ADDRESS);

            List<IHttpClientBuilder> builders = new List<IHttpClientBuilder>();

            builders.Add(_services.AddHttpClient<IDefaultsApi, DefaultsApi>(client));
            builders.Add(_services.AddHttpClient<IElectronicTradeDocumentApi, ElectronicTradeDocumentApi>(client));
            builders.Add(_services.AddHttpClient<IMultipieceShipmentApi, MultipieceShipmentApi>(client));
            builders.Add(_services.AddHttpClient<IPickupsApi, PickupsApi>(client));
            builders.Add(_services.AddHttpClient<IPrintApi, PrintApi>(client));
            builders.Add(_services.AddHttpClient<IShipmentApi, ShipmentApi>(client));
            
            if (builder != null)
                foreach (IHttpClientBuilder instance in builders)
                    builder(instance);

            HttpClientsAdded = true;

            return this;
        }

        /// <summary>
        /// Configures the JsonSerializerSettings
        /// </summary>
        /// <param name="options"></param>
        /// <returns></returns>
        public HostConfiguration ConfigureJsonOptions(Action<JsonSerializerOptions> options)
        {
            options(_jsonOptions);

            return this;
        }

        /// <summary>
        /// Adds tokens to your IServiceCollection
        /// </summary>
        /// <typeparam name="TTokenBase"></typeparam>
        /// <param name="token"></param>
        /// <returns></returns>
        public HostConfiguration AddTokens<TTokenBase>(TTokenBase token) where TTokenBase : TokenBase
        {
            return AddTokens(new TTokenBase[]{ token });
        }

        /// <summary>
        /// Adds tokens to your IServiceCollection
        /// </summary>
        /// <typeparam name="TTokenBase"></typeparam>
        /// <param name="tokens"></param>
        /// <returns></returns>
        public HostConfiguration AddTokens<TTokenBase>(IEnumerable<TTokenBase> tokens) where TTokenBase : TokenBase
        {
            TokenContainer<TTokenBase> container = new TokenContainer<TTokenBase>(tokens);
            _services.AddSingleton(services => container);

            return this;
        }

        /// <summary>
        /// Adds a token provider to your IServiceCollection
        /// </summary>
        /// <typeparam name="TTokenProvider"></typeparam>
        /// <typeparam name="TTokenBase"></typeparam>
        /// <returns></returns>
        public HostConfiguration UseProvider<TTokenProvider, TTokenBase>() 
            where TTokenProvider : TokenProvider<TTokenBase>
            where TTokenBase : TokenBase
        {
            _services.AddSingleton<TTokenProvider>();
            _services.AddSingleton<TokenProvider<TTokenBase>>(services => services.GetRequiredService<TTokenProvider>());

            return this;
        }
    }
}
